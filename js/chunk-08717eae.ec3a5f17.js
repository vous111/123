(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08717eae"],{"0352":function(t,e,a){},"0ac9":function(t,e,a){},"6b04":function(t,e,a){"use strict";var i=a("0ac9"),n=a.n(i);n.a},"7c48":function(t,e,a){"use strict";var i=a("ccf7"),n=a.n(i);n.a},"9bd0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,i){return a("div",{key:i,staticClass:"item",class:{active:t.currentIndex===i},on:{click:function(e){return t.itemClick(i)}}},[a("span",[t._v(t._s(e))])])})),0)},n=[],r={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},created:function(){this.$bus.$on("changeCurrentIndex",this.changeCurrentIndex)},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)},changeCurrentIndex:function(t){this.currentIndex=t}}},s=r,c=(a("7c48"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"9922b17e",null);e["a"]=o.exports},a571:function(t,e,a){},a601:function(t,e,a){"use strict";var i=a("0352"),n=a.n(i);n.a},bb51:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"category"}},[a("nav-bar",{staticClass:"category-nav-bar"},[a("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),a("scroll",{staticClass:"side-scroll"},[a("side-control",{attrs:{sideItems:t.categories},on:{sideClick:t.sideClick}})],1),a("scroll",{ref:"scroll",staticClass:"content-scroll",attrs:{"probe-type":3}},[a("sub-category",{staticClass:"subcategory",attrs:{subItems:t.subcategories},on:{subImageLoad:t.subImageLoad}}),a("category-detail",{staticClass:"category-detail",attrs:{detailGoods:t.categoryDetail},on:{detailClick:t.detailClick}})],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sub-category"},t._l(t.subItems,(function(e,i){return a("div",{key:i,staticClass:"sub-items"},[a("img",{attrs:{src:e.image},on:{load:t.imageLoad}}),a("span",[t._v(t._s(e.title))])])})),0)},s=[],c={name:"SubCagegory",props:{subItems:{type:Array,default:function(){return[]}}},methods:{imageLoad:function(){this.$emit("subImageLoad")}}},o=c,l=(a("f520"),a("2877")),u=Object(l["a"])(o,r,s,!1,null,"52245d14",null),d=u.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-control"},t._l(t.sideItems,(function(e,i){return a("div",{key:i,staticClass:"item",class:{active:t.currentIndex===i},on:{click:function(e){return t.itemClick(i)}}},[a("span",[t._v(t._s(e.title))])])})),0)},f=[],b={name:"SideControl",props:{sideItems:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("sideClick",t)}}},m=b,C=(a("6b04"),Object(l["a"])(m,g,f,!1,null,"795a23ac",null)),y=C.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-detail"},[a("tab-control",{attrs:{titles:t.detailTitles},on:{titleClick:t.titleClick}}),a("goods-list",{attrs:{goods:t.detailGoods,imageType:2}})],1)},p=[],v=a("9bd0"),I=a("6d71"),_={name:"CategoryDetail",components:{TabControl:v["a"],GoodsList:I["a"]},data:function(){return{detailTitles:["流行","新款","精选"]}},props:{detailGoods:{type:Array,default:function(){return[]}}},methods:{titleClick:function(t){this.$emit("detailClick",t)}}},k=_,x=Object(l["a"])(k,h,p,!1,null,"3b190a90",null),D=x.exports,$=a("a7ac"),j=a("5d17"),L=a("1bab");function O(){return Object(L["a"])({url:"/category"})}function S(t){return Object(L["a"])({url:"/subcategory",params:{maitKey:t}})}function w(t,e){return Object(L["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var T=a("eecb"),E={0:"pop",1:"new",2:"sell"},A={name:"Category",components:{SubCategory:d,SideControl:y,CategoryDetail:D,NavBar:$["a"],Scroll:j["a"]},data:function(){return{categories:[],categoryData:{},sideCurrentIndex:0,detailCurrentIndex:0,subcategories:[],categoryDetail:[]}},mixins:[T["b"]],created:function(){this._getCategory()},computed:{},methods:{_getCategory:function(){var t=this;O().then((function(e){t.categories=e.data.category.list;for(var a=0;a<t.categories.length;a++)t.categoryData[a]={subcategories:[],categoryDetail:[]};t._getSubcategory(0)}))},_getSubcategory:function(t){var e=this,a=this.categories[t].maitKey;S(a).then((function(a){e.subcategories=a.data.list,e.categoryData[t].subcategories=a.data.list})),this._getCategoryDetail(0,"pop")},_getCategoryDetail:function(t,e){var a=this,i=this.categories[t].miniWallkey;w(i,e).then((function(i){a.categoryData[t].categoryDetail[e]=i,a.categoryDetail=i}))},sideClick:function(t){this.sideCurrentIndex=t,this._getSubcategory(t),this.$refs.scroll.scrollTo(0,0),0!==this.detailCurrentIndex&&(this.detailCurrentIndex=0,this.$bus.$emit("changeCurrentIndex",0))},detailClick:function(t){this.detailCurrentIndex=t;var e=E[t];this._getCategoryDetail(this.sideCurrentIndex,e)},subImageLoad:function(){this.itemImgListener()}}},G=A,J=(a("a601"),Object(l["a"])(G,i,n,!1,null,"3adec636",null));e["default"]=J.exports},ccf7:function(t,e,a){},f520:function(t,e,a){"use strict";var i=a("a571"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-08717eae.ec3a5f17.js.map